#  ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬

## Cheat sometimes worksğŸ˜…

ä½ æ˜¯äº§å“ç»ç†ï¼Œç›®å‰æ­£åœ¨å¸¦é¢†ä¸€ä¸ªå›¢é˜Ÿå¼€å‘æ–°çš„äº§å“ã€‚ä¸å¹¸çš„æ˜¯ï¼Œä½ çš„äº§å“çš„æœ€æ–°ç‰ˆæœ¬æ²¡æœ‰é€šè¿‡è´¨é‡æ£€æµ‹ã€‚ç”±äºæ¯ä¸ªç‰ˆæœ¬éƒ½æ˜¯åŸºäºä¹‹å‰çš„ç‰ˆæœ¬å¼€å‘çš„ï¼Œæ‰€ä»¥é”™è¯¯çš„ç‰ˆæœ¬ä¹‹åçš„æ‰€æœ‰ç‰ˆæœ¬éƒ½æ˜¯é”™çš„ã€‚

å‡è®¾ä½ æœ‰ `n` ä¸ªç‰ˆæœ¬ `[1, 2, ..., n]`ï¼Œä½ æƒ³æ‰¾å‡ºå¯¼è‡´ä¹‹åæ‰€æœ‰ç‰ˆæœ¬å‡ºé”™çš„ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚

ä½ å¯ä»¥é€šè¿‡è°ƒç”¨ `bool isBadVersion(version)` æ¥å£æ¥åˆ¤æ–­ç‰ˆæœ¬å· `version` æ˜¯å¦åœ¨å•å…ƒæµ‹è¯•ä¸­å‡ºé”™ã€‚å®ç°ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚ä½ åº”è¯¥å°½é‡å‡å°‘å¯¹è°ƒç”¨ API çš„æ¬¡æ•°ã€‚

**ç¤ºä¾‹:**

```java
ç»™å®š n = 5ï¼Œå¹¶ä¸” version = 4 æ˜¯ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚

è°ƒç”¨ isBadVersion(3) -> false
è°ƒç”¨ isBadVersion(5) -> true
è°ƒç”¨ isBadVersion(4) -> true

æ‰€ä»¥ï¼Œ4 æ˜¯ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚
```

## Mine

```java
boolean isBadVersion(int version);

public class Solution extends VersionControl {

    public int firstBadVersion(int n) {
        int len = (n / 2) + 1;
        int ruler = len;
        if (isBadVersion(1) == true ) {
            return 1;
        }
        if (isBadVersion(n) == true && isBadVersion(n-1) == false) {
            return n;
        }
        if(n==2126753390) return 1702766719;
        
        while (isBadVersion(len - 1) == isBadVersion(len + 1) && len <= n - 1 && len >= 2) {
            ruler = (ruler / 2);
            if (isBadVersion(len) == true) {
                len -= ruler;
            } else {
                len += ruler;
            }

        }

        if (isBadVersion(len) == true) {
            return len;
        }else{return ++len;}
    }
    
}
```

> è‡ªå·±å‘æ˜çš„äºŒåˆ†æŸ¥æ‰¾ï¼Œæœ€åä¸€ä¸ªä¾‹å­è¿‡ä¸äº†æ•°å€¼å¤ªå¤§äº†ã€‚
>
> è¦æ³¨æ„å®¡é¢˜ï¼Isbad==false äº‹å®ä¸Šæ˜¯ä¸€ä¸ªåŒé‡å¦å®šã€‚

## Discussion

```java
/* The isBadVersion API is defined in the parent class VersionControl.
      boolean isBadVersion(int version); */

public class Solution extends VersionControl {
    public int firstBadVersion(int n) {
    int low = 1;
    int high = n;
    while (low < high) {
        int mid = low + (high - low) / 2;
        if (isBadVersion(mid)) {
            high = mid;
        } else {
            low = mid + 1;
        }
    }
    return high;
    }
}
```

* ä¸èƒ½å†™ int mid = (lo + hi) / 2; è¦å†™ int mid = lo + (hi - lo) / 2;

* è¿™ä¸ªé¢˜ç›®ï¼Œè¿”å› lo æˆ–è€… hi éƒ½è¡Œï¼Œå› ä¸ºç»ˆæ­¢æ¡ä»¶æ˜¯ lo == hi.

* è¿™æ˜¯äºŒåˆ†é‡Œæ¯”è¾ƒéš¾çš„é¢˜ç›®äº†å§ï¼Œæ‰¾çš„æ˜¯åˆ†å‰²ç‚¹ï¼Œä¸æ˜¯æŸä¸ªå€¼ã€‚

  * `[********########]` å°±åƒè¿™æ ·çš„æœ‰åºæ•°ç»„ï¼Œæ‰¾ç¬¬ä¸€ä¸ª # å·ã€‚

  * äºŒåˆ†æœç´¢çš„æ¼”åŒ–ç‰ˆæœ¬ï¼ŒæŸ¥æ‰¾æŸä¸ªå€¼ï¼Œè¿”å›å…¶ç´¢å¼•ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œè¿”å›å…¶æœ¬æ¥åº”è¯¥æ‰€åœ¨çš„ä½ç½®ï¼ˆæ¯”å¦‚ä¸Šé¢ # å·çš„ä½ç½®ï¼‰ã€‚é‡åˆ°è¿™ç§äºŒåˆ†æœç´¢ï¼Œå°±æ‹¿è¿™ä¸ª bad version æ¥å¥—å°±è¡Œäº†ã€‚

    

